{#include base.html}
  {#title}{#if author}Edit {author.firstName} {author.lastName}{#else}New Author{/if} - Authors - Admin - Vintage Store{/}

  {#insert}
    <div class="row mb-4">
      <div class="col-12">
        <h1>
          {#if author}
            <i class="bi bi-pencil me-2"></i>Edit Author
          {#else}
            <i class="bi bi-plus-circle me-2"></i>New Author
          {/if}
        </h1>
        <hr>
      </div>
    </div>

    <div class="row">
      <div class="col-md-8">
        <div class="card">
          <div class="card-header bg-primary text-white">
            <i class="bi bi-person-badge me-2"></i>Author Information
          </div>
          <div class="card-body">
            {#form uri:AdminController.authorSave()}
              {#if author}
                <input type="hidden" name="id" value="{author.id}">
              {/if}

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="firstName" class="form-label">First Name <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="firstName" name="firstName"
                         value="{#if author}{author.firstName}{/if}"
                         required maxlength="50" placeholder="Enter first name">
                </div>

                <div class="col-md-6 mb-3">
                  <label for="lastName" class="form-label">Last Name <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="lastName" name="lastName"
                         value="{#if author}{author.lastName}{/if}"
                         required maxlength="50" placeholder="Enter last name">
                </div>
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="preferredLanguage" class="form-label">Preferred Language</label>
                  <select class="form-select" id="preferredLanguage" name="preferredLanguage">
                    <option value="">-- Select Language --</option>
                    {#for lang in languages}
                      <option value="{lang}" {#if author && author.preferredLanguage == lang}selected{/if}>{lang}</option>
                    {/for}
                  </select>
                </div>

                <div class="col-md-6 mb-3">
                  <label for="dateOfBirth" class="form-label">Date of Birth</label>
                  <input type="date" class="form-control" id="dateOfBirth" name="dateOfBirth"
                         value="{#if author}{author.dateOfBirth}{/if}">
                </div>
              </div>

              <div class="mb-3">
                <label for="website" class="form-label">Website</label>
                <input type="url" class="form-control" id="website" name="website"
                       value="{#if author}{author.website}{/if}"
                       maxlength="255" placeholder="https://www.example.com">
              </div>

              <div class="mb-3">
                <label for="bio" class="form-label">Biography</label>
                <textarea class="form-control" id="bio" name="bio" rows="4"
                          placeholder="Enter author biography">{#if author}{author.bio}{/if}</textarea>
              </div>

              <hr>

              <div class="d-flex justify-content-between">
                <a href="/admin/authors" class="btn btn-secondary">
                  <i class="bi bi-x-circle me-1"></i>Cancel
                </a>
                <button type="submit" class="btn btn-primary">
                  <i class="bi bi-check-circle me-1"></i>
                  {#if author}Update Author{#else}Create Author{/if}
                </button>
              </div>
            {/form}
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card">
          <div class="card-header bg-info text-white">
            <i class="bi bi-lightbulb me-2"></i>Tips
          </div>
          <div class="card-body">
            <ul class="list-unstyled mb-0">
              <li class="mb-2">
                <i class="bi bi-check-circle text-success me-1"></i>
                <strong>First Name</strong> and <strong>Last Name</strong> are required.
              </li>
              <li class="mb-2">
                <i class="bi bi-globe text-primary me-1"></i>
                <strong>Website</strong> should start with http:// or https://
              </li>
              <li class="mb-2">
                <i class="bi bi-translate text-info me-1"></i>
                <strong>Preferred Language</strong> helps categorize books by author.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  {/insert}
{/include}
